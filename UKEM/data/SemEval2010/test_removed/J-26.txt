combinatorial agency 
 extended abstract 
 
moshe babaioff 
school of information 
management and systems 
uc berkeley 
berkeley ca usa 
moshe sims berkeley edu 
michal feldman 
school of engineering and 
computer science 
the hebrew university of 
jerusalem 
jerusalem israel 
mfeldman cs huji ac il 
noam nisan 
school of engineering and 
computer science 
the hebrew university of 
jerusalem 
jerusalem israel 
noam cs huji ac il 
abstract 
much recent research concerns systems such as the 
internet whose components are owned and operated by different 
parties each with his own selfish goal the field of 
algorithmic mechanism design handles the issue of private 
information held by the different parties in such computational 
settings this paper deals with a complementary problem in 
such settings handling the hidden actions that are 
performed by the different parties 
our model is a combinatorial variant of the classical 
principalagent problem from economic theory in our setting a 
principal must motivate a team of strategic agents to exert costly 
effort on his behalf but their actions are hidden from him 
our focus is on cases where complex combinations of the 
efforts of the agents influence the outcome the principal 
motivates the agents by offering to them a set of contracts 
which together put the agents in an equilibrium point of the 
induced game we present formal models for this setting 
suggest and embark on an analysis of some basic issues but 
leave many questions open 
categories and subject descriptors 
j social and behavioral sciences economics k 
 electronic commerce payment schemes c 
 computercommunication networks distributed systems 
general terms 
design economics theory 
 introduction 
 background 
one of the most striking characteristics of modern 
computer networks - in particular the internet - is that different 
parts of it are owned and operated by different individuals 
firms and organizations the analysis and design of 
protocols for this environment thus naturally needs to take into 
account the different selfish economic interests of the 
different participants indeed the last few years have seen 
much work addressing this issue using game-theoretic 
notions see for an influential survey a significant part 
of the difficulty stems from underlying asymmetries of 
information one participant may not know everything that is 
known or done by another in particular the field of 
algorithmic mechanism design uses appropriate incentives to 
extract the private information from the participants 
this paper deals with the complementary lack of 
knowledge that of hidden actions in many cases the actual 
behaviors - actions - of the different participants are hidden 
from others and only influence the final outcome indirectly 
hidden here covers a wide range of situations including 
not precisely measurable costly to determine or even 
non-contractible - meaning that it can not be formally 
used in a legal contract 
an example that was discussed in is quality of service 
routing in a network every intermediate link or router may 
exert a different amount of effort priority bandwidth 
when attempting to forward a packet of information while 
the final outcome of whether a packet reached its destination 
is clearly visible it is rarely feasible to monitor the exact 
amount of effort exerted by each intermediate link - how can 
we ensure that they really do exert the appropriate amount 
of effort many other complex resource allocation problems 
exhibit similar hidden actions e g a task that runs on a 
collection of shared servers may be allocated by each server 
an unknown percentage of the cpu s processing power or 
of the physical memory how can we ensure that the right 
combination of allocations is actually made by the different 
servers a related class of examples concerns security issues 
each link in a complex system may exert different levels 
of effort for protecting some desired security property of 
the system how can we ensure that the desired level of 
 
collective security is obtained 
our approach to this problem is based on the well 
studied principal-agent problem in economic theory how can a 
principal motivate a rational agent to exert costly effort 
towards the welfare of the principal the crux of the model 
is that the agent s action i e whether he exerts effort or 
not is invisible to the principal and only the final outcome 
which is probabilistic and also influenced by other factors 
is visible this problem is well studied in many contexts in 
classical economic theory and we refer the readers to 
introductory texts on economic theory such as chapter 
the solution is based on the observation that a properly 
designed contract in which the payments are contingent upon 
the final outcome can influence a rational agent to exert the 
required effort 
in this paper we initiate a general study of handling 
combinations of agents rather than a single agent while much 
work was already done on motivating teams of agents 
our emphasis is on dealing with the complex combinatorial 
structure of dependencies between agents actions in the 
general case each combination of efforts exerted by the n 
different agents may result in a different expected gain for 
the principal the general question asks which conditional 
payments should the principal offer to which agents as to 
maximize his net utility in our setting and unlike in 
previous work see e g the main challenge is to determine 
the optimal amount of effort desired from each agent 
this paper suggest models for and provides some 
interesting initial results about this combinatorial agency 
problem we believe that we have only scratched the surface and 
leave many open questions conjectures and directions for 
further research 
we believe that this type of analysis may also find 
applications in regular economic activity consider for example 
a firm that sub-contracts a family of related tasks to many 
individuals or other firms it will often not be possible to 
exactly monitor the actual effort level of each sub-contractor 
 e g in cases of public-relations activities consulting 
activities or any activities that require cooperation between 
different sub-contractors when the dependencies between 
the different subtasks are complex we believe that 
combinatorial agency models can offer a foundation for the design 
of contracts with appropriate incentives 
it may also be useful to view our work as part of a general 
research agenda stemming from the fact that all types of 
economic activity are increasingly being handled with the 
aid of sophisticated computer systems in general in such 
computerized settings complex scenarios involving multiple 
agents and goods can naturally occur and they need to 
be algorithmically handled this calls for the study of the 
standard issues in economic theory in new complex settings 
the principal-agent problem is a prime example where such 
complex settings introduce new challenges 
 our models 
we start by presenting a general model in this model 
each of n agents has a set of possible actions the 
combination of actions by the players results in some outcome 
where this happens probabilistically the main part of the 
specification of a problem in this model is a function that 
specifies this distribution for each n-tuple of agents actions 
additionally the problem specifies the principal s utility for 
each possible outcome and for each agent the agent s cost 
for each possible action the principal motivates the agents 
by offering to each of them a contract that specifies a 
payment for each possible outcome of the whole project 
 key 
here is that the actions of the players are non-observable 
and thus the contract cannot make the payments directly 
contingent on the actions of the players but rather only on 
the outcome of the whole project 
given a set of contracts the agents will each optimize his 
own utility i e will choose the action that maximizes his 
expected payment minus the cost of his action since the 
outcome depends on the actions of all players together the 
agents are put in a game and are assumed to reach a nash 
equilibrium 
 the principal s problem our problem in this 
paper is of designing an optimal set of contracts i e 
contracts that maximize his expected utility from the outcome 
minus his expected total payment the main difficulty is 
that of determining the required nash equilibrium point 
in order to focus on the main issues the rest of the paper 
deals with the basic binary case each agent has only two 
possible actions exert effort and shirk and there are only 
two possible outcomes success and failure it seems that 
this case already captures the main interesting ingredients 
 
in this case each agent s problem boils down to whether to 
exert effort or not and the principal s problem boils down 
to which agents should be contracted to exert effort this 
model is still pretty abstract and every problem description 
contains a complete table specifying the success probability 
for each subset of the agents who exert effort 
we then consider a more concrete model which concerns 
a subclass of problem instances where this exponential size 
table is succinctly represented this subclass will provide 
many natural types of problem instances in this subclass 
every agent performs a subtask which succeeds with a low 
probability γ if the agent does not exert effort and with a 
higher probability δ γ if the agent does exert effort the 
whole project succeeds as a deterministic boolean function 
of the success of the subtasks this boolean function can 
now be represented in various ways two basic examples are 
the and function in which the project succeeds only if 
all subtasks succeed and the or function which succeeds 
if any of the subtasks succeeds a more complex example 
considers a communication network where each agent 
controls a single edge and success of the subtask means that 
a message is forwarded by that edge effort by the edge 
increases this success probability the complete project 
succeeds if there is a complete path of successful edges between 
a given source and sink complete definitions of the models 
appear in section 
 our results 
 
one could think of a different model in which the agents 
have intrinsic utility from the outcome and payments may 
not be needed as in 
 
in this paper our philosophy is that the principal can 
suggest a nash equilibrium point to the agents thus 
focusing on the best nash equilibrium one may alternatively 
study the worst case equilibrium as in or alternatively 
attempt modeling some kind of an extensive game between 
the agents as in 
 
however some of the more advanced questions we ask for 
this case can be viewed as instances of the general model 
 
we address a host of questions and prove a large number 
of results we believe that despite the large amount of work 
that appears here we have only scratched the surface in 
many cases we were not able to achieve the general 
characterization theorems that we desired and had to settle for 
analyzing special cases or proving partial results in many 
cases simulations reveal structure that we were not able to 
formally prove we present here an informal overview of 
the issues that we studied what we were able to do and 
what we were not the full treatment of most of our results 
appears only in the extended version and only some are 
discussed often with associated simulation results in the 
body of the paper 
our first object of study is the structure of the class of 
sets of agents that can be contracted for a given problem 
instance let us fix a given function describing success 
probabilities fix the agent s costs and let us consider the set of 
contracted agents for different values of the principal s 
associated value from success for very low values no agent 
will be contracted since even a single agent s cost is higher 
than the principal s value for very high values all agents 
will always be contracted since the marginal contribution 
of an agent multiplied by the principal s value will overtake 
any associated payment what happens for intermediate 
principal s values 
we first observe that there is a finite number of 
transitions between different sets as the principal s project value 
increases these transitions behave very differently for 
different functions for example we show that for the and 
function only a single transition occurs for low enough 
values no agent will be contracted while for higher values all 
agents will be contracted - there is no intermediate range for 
which only some of the agents are contracted for the or 
function the situation is opposite as the principal s value 
increases the set of contracted agents increases one-by-one 
we are able to fully characterize the types of functions for 
which these two extreme types of transitions behavior occur 
however the structure of these transitions in general seems 
quite complex and we were not able to fully analyze them 
even in simple cases like the majority function the project 
succeeds if a majority of subtasks succeeds or very simple 
networks we do have several partial results including a 
construction with an exponential number of transitions 
during the previous analysis we also study what we term 
the price of unaccountability how much is the social 
utility achieved under the optimal contracts worse than what 
could be achieved in the non-strategic case 
 where the 
socially optimal actions are simply dictated by the principal 
we are able to fully analyze this price for the and 
function where it is shown to tend to infinity as the number of 
agents tends to infinity more general analysis remains an 
open problem 
our analysis of these questions sheds light on the 
difficulty of the various natural associated algorithmic 
problems in particular we observe that the optimal contract 
can be found in time polynomial in the explicit 
representation of the probability function we prove a lower bound 
that shows that the optimal contract cannot be found in 
number of queries that is polynomial just in the number of 
agents in a general black-box model we also show that 
when the probability function is succinctly represented as 
 
the non-strategic case is often referred to as the case with 
contractible actions or the principal s first-best solution 
a read-once network the problem becomes p-hard the 
status of some algorithmic questions remains open in 
particular that of finding the optimal contract for technologies 
defined by serial-parallel networks 
in a follow-up paper we deal with equilibria in mixed 
strategies and show that the principal can gain from 
inducing a mixed-nash equilibrium between the agents rather 
than a pure one we also show cases where the principal 
can gain by asking agents to reduce their effort level even 
when this effort comes for free both phenomena can not 
occur in the non-strategic setting 
 model and preliminaries 
 the general setting 
a principal employs a set of agents n of size n each 
agent i ∈ n has a possible set of actions ai and a cost 
 effort ci ai ≥ for each possible action ai ∈ ai ci ai → 
 the actions of all players determine in a probabilistic 
way a contractible outcome o ∈ o according to a success 
function t a × × an → δ o where δ o denotes 
the set of probability distributions on o a technology is 
a pair t c of a success function t and cost functions 
c c c cn the principal has a certain value for 
each possible outcome given by the function v o → 
as we will only consider risk-neutral players in this paper 
 
we will also treat v as a function on δ o by taking simple 
expected value actions of the players are invisible but the 
final outcome o is visible to him and to others in particular 
the court and he may design enforceable contracts based 
on the final outcome thus the contract for agent i is a 
function payment pi o → again we will also view pi 
as a function on δ o 
given this setting the agents have been put in a game 
where the utility of agent i under the vector of actions a 
 a an is given by ui a pi t a −ci ai the agents 
will be assumed to reach nash equilibrium if such 
equilibrium exists the principal s problem which is our problem 
in this paper is how to design the contracts pi as to 
maximize his own expected utility u a v t a − 
p 
i pi t a 
where the actions a an are at nash-equilibrium in the 
case of multiple nash equilibria we let the principal choose 
the equilibrium thus focusing on the best nash 
equilibrium a variant which is similar in spirit to strong 
implementation in mechanism design would be to take the worst 
nash equilibrium or even stronger yet to require that only 
a single equilibrium exists finally the social welfare for 
a ∈ a is u a 
p 
i∈n ui a v t a − 
p 
i∈n ci ai 
 the binary-outcome binary-action model 
we wish to concentrate on the complexities introduced 
by the combinatorial structure of the success function t we 
restrict ourselves to a simpler setting that seems to focus 
more clearly on the structure of t a similar model was 
used in we first restrict the action spaces to have 
only two states binary-action low effort and high 
effort the cost function of agent i is now just a scalar ci 
 denoting the cost of exerting high effort where the low 
effort has cost the vector of costs is c c c cn 
 
the risk-averse case would obviously be a natural second 
step in the research of this model as has been for 
noncombinatorial scenarios 
 
and we use the notation t c to denote a technology in 
such a binary-outcome model we then restrict the outcome 
space to have only two states binary-outcome project 
failure and project success the principal s value for 
a successful project is given by a scalar v where the 
value of project failure is we assume that the principal 
can pay the agents but not fine them known as the limited 
liability constraint the contract to agent i is thus now 
given by a scalar value pi ≥ that denotes the payment 
that i gets in case of project success if the project fails the 
agent gets when the lowest cost action has zero cost as 
we assume this immediately implies that the participation 
constraint holds 
at this point the success function t becomes a function t 
 n 
→ where t a an denotes the probability 
of project success where players with ai do not exert 
effort and incur no cost and players with ai do exert 
effort and incur a cost of ci 
as we wish to concentrate on motivating agents rather 
than on the coordination between agents we assume that 
more effort by an agent always leads to a better probability 
of success i e that the success function t is strictly 
monotone formally if we denote by a−i ∈ a−i the n − 
 dimensional vector of the actions of all agents excluding 
agent i i e a−i a ai− ai an then a 
success function must satisfy 
∀i ∈ n ∀a−i ∈ a−i t a−i t a−i 
additionally we assume that t a for any a ∈ a or 
equivalently t 
definition the marginal contribution of agent i 
denoted by δi is the difference between the probability of 
success when i exerts effort and when he shirks 
δi a−i t a−i − t a−i 
note that since t is monotone δi is a strictly positive 
function at this point we can already make some simple 
observations the best action ai ∈ ai of agent i can now 
be easily determined as a function of what the others do 
a−i ∈ a−i and his contract pi 
claim given a profile of actions a−i agent i s best 
strategy is ai if pi ≥ ci 
δi a−i 
 and is ai if pi ≤ 
ci 
δi a−i 
 in the case of equality the agent is indifferent 
between the two alternatives 
as pi ≥ ci 
δi a−i 
if and only if ui a−i pi ·t a−i −ci ≥ 
pi ·t a−i ui a−i i s best strategy is to choose ai 
in this case 
this allows us to specify the contracts that are the 
principal s optimal for inducing a given equilibrium 
observation the best contracts for the principal 
that induce a ∈ a as an equilibrium are pi for agent 
i who exerts no effort ai and pi ci 
δi a−i 
for agent 
i who exerts effort ai 
in this case the expected utility of agent i who exerts effort 
is ci · 
 
t a−i 
δi a−i 
− 
 
 and for an agent who shirk the 
principal s expected utility is given by u a v v−p ·t a 
where p is the total payment in case of success given by 
p 
p 
i ai 
ci 
δi a−i 
 
we say that the principal contracts with agent i if pi 
 and ai in the equilibrium a ∈ a the principal s goal 
is to maximize his utility given his value v i e to determine 
the profile of actions a 
∈ a which gives the highest value 
of u a v in equilibrium choosing a ∈ a corresponds to 
choosing a set s of agents that exert effort s i ai 
we call the set of agents s 
that the principal contracts with 
in a 
 s 
 i a 
i an optimal contract for the principal 
at value v we sometimes abuse notation and denote t s 
instead of t a when s is exactly the set of agents that exert 
effort in a ∈ a 
a natural yardstick by which to measure this decision 
is the non-strategic case i e when the agents need not be 
motivated but are rather controlled directly by the principal 
 who also bears their costs in this case the principal will 
simply choose the profile a ∈ a that optimizes the social 
welfare global efficiency t a · v − 
p 
i ai ci the worst 
ratio between the social welfare in this non-strategic case 
and the social welfare for the profile a ∈ a chosen by the 
principal in the agency case may be termed the price of 
unaccountability 
given a technology t c let s 
 v denote the optimal 
contract in the agency case and let s 
ns v denote an optimal 
contract in the non-strategic case when the principal s value 
is v the social welfare for value v when the set s of agents 
is contracted is t s · v − 
p 
i∈s ci in both the agency and 
non-strategic cases 
definition the price of unaccountability pou t c 
of a technology t c is defined as the worst ratio over v 
between the total social welfare in the non-strategic case and 
the agency case 
pou t c supv 
t s 
ns v · v − 
p 
i∈s 
ns v ci 
t s v · v − 
p 
i∈s v ci 
in cases where several sets are optimal in the agency case 
we take the worst set i e the set that yields the lowest social 
welfare 
when the technology t c is clear in the context we will use 
pou to denote the price of unaccountability for technology 
 t c note that the pou is at least for any technology 
as we would like to focus on results that derived from 
properties of the success function in most of the paper we 
will deal with the case where all agents have an identical 
cost c that is ci c for all i ∈ n we denote a technology 
 t c with identical costs by t c for the simplicity of the 
presentation we sometimes use the term technology function 
to refer to the success function of the technology 
 structured technology functions 
in order to be more concrete we will especially focus on 
technology functions whose structure can be described easily 
as being derived from independent agent tasks - we call 
these structured technology functions this subclass will first 
give us some natural examples of technology function and 
will also provide a succinct and natural way to represent the 
technology functions 
in a structured technology function each individual 
succeeds or fails in his own task independently the project s 
success or failure depends possibly in a complex way on the 
set of successful sub-tasks thus we will assume a 
monotone boolean function f n 
→ which denotes 
 
whether the project succeeds as a function of the success of 
the n agents tasks and is not determined by any set of n− 
agents additionally there are constants γi δi 
where γi denotes the probability of success for agent i if he 
does not exert effort and δi γi denotes the probability 
of success if he does exert effort in order to reduce the 
number of parameters we will restrict our attention to the case 
where γ γn γ and δ δn − γ thus 
leaving ourselves with a single parameter γ s t γ 
 
 
under this structure the technology function t is defined 
by t a an being the probability that f x xn 
where the bits x xn are chosen according to the 
following distribution if ai then xi with probability γ and 
xi with probability − γ otherwise i e if ai then 
xi with probability − γ and xi with probability γ 
we denote x x xn 
the question of the representation of the technology 
function is now reduced to that of representing the underlying 
monotone boolean function f in the most general case 
the function f can be given by a general monotone boolean 
circuit an especially natural sub-class of functions in the 
structured technologies setting would be functions that can 
be represented as a read-once network - a graph with a given 
source and sink where every edge is labeled by a 
different player the project succeeds if the edges that belong 
to player s whose task succeeded form a path between the 
source and the sink 
 
a few simple examples should be in order here 
 the and technology f x xn is the logical 
conjunction of xi f x 
v 
i∈n xi thus the project 
succeeds only if all agents succeed in their tasks this 
is shown graphically as a read-once network in 
figure a if m agents exert effort 
p 
i ai m then 
t a tm γn−m 
 − γ m 
 e g for two players 
the technology function t a a ta a is given by 
t t γ 
 t t t γ − γ and 
t t − γ 
 
 the or technology f x xn is the logical 
disjunction of xi f x 
w 
i∈n xi thus the project 
succeeds if at least one of the agents succeed in their 
tasks this is shown graphically as a read-once 
network in figure b if m agents exert effort then 
tm − γm 
 − γ n−m 
 e g for two players the 
technology function is given by t − − γ 
 
t t − γ − γ and t − γ 
 
 the or-of-ands ooa technology f x is the 
logical disjunction of conjunctions in the simplest case 
of equal-length clauses denote by nc the number of 
clauses and by nl their length f x 
wnc 
j 
vnl 
k xj 
k 
thus the project succeeds if in at least one clause all 
agents succeed in their tasks this is shown 
graphically as a read-once network in figure a if mi 
agents on path i exert effort then t m mnc 
 − 
q 
i − γnl−mi 
 − γ mi 
 e g for four 
players the technology function t a 
 a 
 a 
 a 
 is given 
by t − − γ 
 
 t t 
t t − − γ − γ − γ 
 and 
so on 
 
one may view this representation as directly corresponding 
to the project of delivering a message from the source to the 
sink in a real network of computers with the edges being 
controlled by selfish agents 
figure graphical representations of a and and b 
or technologies 
figure graphical representations of a ooa and b 
aoo technologies 
 the and-of-ors aoo technology f x is the 
logical conjunction of disjunctions in the simplest case 
of equal-length clauses denote by nl the number of 
clauses and by nc their length f x 
vnl 
j 
wnc 
k xj 
k 
thus the project succeeds if at least one agent from 
each disjunctive-form-clause succeeds in his tasks this 
is shown graphically as a read-once network in 
figure b if mi agents on clause i exert effort then 
t m mnc 
q 
i − γmi − γ nc−mi e g for 
four players the technology function t a 
 a 
 a 
 a 
 
is given by t − − γ 
 
 t 
t t t − γ − γ − 
 − γ 
 and so on 
 the majority technology f x is if a majority of 
the values xi are thus the project succeeds if most 
players succeed the majority function even on 
inputs can not be represented by a read-once network 
but is easily represented by a monotone boolean 
formula maj x y z xy yz xz in this case the 
technology function is given by t γ 
 − γ γ 
 
t t t γ 
 −γ 
γ γ 
 −γ 
etc 
 analysis of some anonymous 
technologies 
a success function t is called anonymous if it is symmetric 
with respect to the players i e t a an depends only 
on 
p 
i∈n ai the number of agents that exert effort a 
technology t c is anonymous if t is anonymous and the cost c is 
identical to all agents of the examples presented above the 
and or and majority technologies were anonymous but 
not aoo and ooa as for an anonymous t only the number 
of agents that exert effort is important we can shorten the 
notations and denote tm t m 
 n−m 
 δm tm − tm 
pm c 
δm− 
and um tm · v − m · pm for the case of 
identical cost c 
 
v 
 
 
gamma 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
gamma 
 
 
 
 
figure number of agents in the optimal contract 
of the and left and or right technologies with 
players as a function of γ and v and technology either 
 or agents are contracted and the transition value is 
monotonic in γ or technology for any γ we can see all 
transitions 
 and and or technologies 
let us start with a direct and full analysis of the and 
and or technologies for two players for the case γ 
and c 
example and technology with two agents c 
 γ we have t γ 
 t γ − γ 
and t − γ 
 thus δ and δ 
the principal has possibilities contracting with or 
agents let us write down the expressions for his utility in 
these cases 
 agents no agent is paid thus and the principal s 
utility is u t · v v 
 agent this agent is paid p c δ on success 
and the principal s utility is u t v − p v − 
 
 agents each agent is paid p c δ on 
success and the principal s utility is u t v− p 
 v − 
notice that the option of contracting with one agent is always 
inferior to either contracting with both or with none and will 
never be taken by the principal the principal will contract 
with no agent when v with both agents whenever v 
and with either non or both for v 
this should be contrasted with the non-strategic case in 
which the principal completely controls the agents and bears 
their costs and thus simply optimizes globally in this case 
the principal will make both agents exert effort whenever v ≥ 
 thus for example for v the globally optimal decision 
 non-strategic case would give a global utility of · − 
 while the principal s decision in the agency case 
would give a global utility of giving a ratio of 
it turns out that this is the worst price of unaccountability 
in this example and it is obtained exactly at the transition 
point of the agency case as we show below 
example or technology with two agents c 
γ we have t − − γ 
 t − 
γ − γ and t − γ 
 thus δ 
and δ let us write down the expressions for the 
principal s utility in these three cases 
 agents no agent is paid and the principal s utility 
is u t · v v 
 agent this agent is paid p c δ on 
success and the principal s utility is u t v − p 
 v − 
 agents each agent is paid p c δ on 
success and the principal s utility is u t v − p 
 v − 
now contracting with one agent is better than contracting 
with none whenever v and is equivalent for v 
 and contracting with both agents is better than 
contracting with one agent whenever v and is 
equivalent for v thus the principal will contract with 
no agent for ≤ v ≤ with one agent for ≤ v ≤ 
 and with both agents for v ≥ 
in the non-strategic case in comparison the principal will 
make a single agent exert effort for v and the second 
one exert effort as well when v 
it turns out that the price of unaccountability here is 
 and is achieved at v which is exactly the 
transition point from to contracted agents in the agency 
case this is not a coincidence that in both the and and 
or technologies the pou is obtained for v that is a 
transition point see full proof in 
lemma for any given technology t c the price of 
unaccountability pou t c is obtained at some value v which 
is a transition point of either the agency or the non-strategic 
cases 
proof sketch we look at all transition points in both cases 
for any value lower than the first transition point agents 
are contracted in both cases and the social welfare ratio 
is similarly for any value higher than the last 
transition point n agents are contracted in both cases and the 
social welfare ratio is thus we can focus on the 
interval between the first and last transition points between any 
pair of consecutive points the social welfare ratio is between 
two linear functions of v the optimal contracts are fixed on 
such a segment we then show that for each segment the 
suprimum ratio is obtained at an end point of the segment 
 a transition point as there are finitely many such points 
the global suprimum is obtained at the transition point with 
the maximal social welfare ratio 
we already see a qualitative difference between the and 
and or technologies even with agents in the first case 
either all agents are contracted or none while in the second 
case for some intermediate range of values v exactly one 
agent is contracted figure shows the same phenomena 
for and and or technologies with players 
theorem for any anonymous and technology 
 
 there exists a value 
v ∞ such that for any v v 
it is optimal to contract with no agent for v v it is 
optimal to contract with all n agents and for v v 
both contracts n are optimal 
 
and technology with any number of agents n and any γ 
and any identical cost c 
 
v is a function of n γ c 
 
 the price of unaccountability is obtained at the 
transition point of the agency case and is 
pou 
` 
γ 
− 
´n− 
 − 
γ 
 − γ 
 
proof sketch for any fixed number of contracted agents 
k the principal s utility is a linear function in v where 
the slope equals the success probability under k contracted 
agents thus the optimal contract corresponds to the 
maximum over a set of linear functions let v denote the point 
at which the principal is indifferent between contracting 
with or n agents in we show that at v the 
principal s utility from contracting with or n agents is higher 
than his utility when contracting with any number of agents 
k ∈ n − as the number of contracted agents is 
monotonic non-decreasing in the value due to lemma 
for any v v contracting with agents is optimal and for 
any v v contracting with n agents is optimal this is 
true for both the agency and the non-strategic cases 
as in both cases there is a single transition point the 
claim about the price of unaccountability for and 
technology is proved as a special case of lemma below for 
and technology 
tn− 
t 
 −γ n− 
·γ 
γn 
 
 
γ 
− 
n− 
and 
tn− 
tn 
 −γ n− 
·γ 
 −γ n γ 
 −γ 
 and the expressions for the pou 
follows 
in we present a general characterization of technologies 
with a single transition in the agency and the non-strategic 
cases and provide a full proof of theorem as a special 
case 
the property of a single transition occurs in both the 
agency and the non-strategic cases where the transition 
occurs at a smaller value of v in the non-strategic case notice 
that the pou is not bounded across the and family of 
technologies for various n γ as pou → ∞ either if γ → 
 for any given n ≥ or n → ∞ for any fixed γ ∈ 
 
 
next we consider the or technology and show that it 
exhibits all n transitions 
theorem for any anonymous or technology there 
exist finite positive values v v vn such that 
for any v s t vk v vk contracting with exactly k 
agents is optimal for v v no agent is contracted and 
for v vn all n agents are contracted for v vk the 
principal is indifferent between contracting with k − or k 
agents 
proof sketch to prove the claim we define vk to be the 
value for which the principal is indifferent between 
contracting with k − agents and contracting with k agents we 
then show that for any k vk vk as the number of 
contracted agents is monotonic non-decreasing in the value due 
to lemma v v vn is a sufficient condition 
for the theorem to hold 
the same behavior occurs in both the agency and the 
nonstrategic case this characterization is a direct corollary of 
a more general characterization given in 
while in the and technology we were able to fully 
determine the pou analytically the or technology is more 
difficult to analyze 
open question what is the pou for or with n 
agents is it bounded by a constant for every n 
we are only able to determine the pou of the or 
technology for the case of two agents even for the agents 
case we already observe a qualitative difference between the 
pou in the and and or technologies 
observation while in the and technology the pou 
for n is not bounded from above for γ → the highest 
pou in or technology with two agents is for γ → 
 what determines the transitions 
theorems and say that both the and and or 
technologies exhibit the same transition behavior changes of the 
optimal contract in the agency and the non-strategic cases 
however this is not true in general in we provide a full 
characterization of the sufficient and necessary conditions 
for general anonymous technologies to have a single 
transition and all n transitions we find that the conditions in the 
agency case are different than the ones in the non-strategic 
case 
we are able to determine the pou for any anonymous 
technology that exhibits a single transition in both the agency 
and the non-strategic cases see full proof in 
lemma for any anonymous technology that has a 
single transition in both the agency and the non-strategic cases 
the pou is given by 
pou 
tn− 
t 
− 
tn− 
tn 
and it is obtained at the transition point of the agency case 
proof sketch since the payments in the agency case are 
higher than in the non-strategic case the transition point 
in the agency case occurs for a higher value than in the 
non-strategic case thus there exists a region in which the 
optimal numbers of contracted agents in the agency and the 
non-strategic cases are and n respectively by lemma 
the pou is obtained at a transition point as the social 
welfare ratio is decreasing in v in this region the pou is 
obtained at the higher value that is at the transition point 
of the agency case the transition point in the agency case 
is the point at which the principal is indifferent between 
contracting with and with n agents v c·n 
tn−t 
· tn 
tn−tn− 
 
substituting the transition point of the agency case into the 
pou expression yields the required expression 
pou 
v · tn − c · n 
v · t 
 
tn− 
t 
− 
tn− 
tn 
 
 the majority technology 
the project under the majority function succeeds if 
the majority of the agents succeed in their tasks see 
section we are unable to characterize the transition 
behavior of the majority technology analytically figure 
presents the optimal number of contracted agents as a 
function of v and γ for n the phenomena that we observe 
in this example and others that we looked at leads us to 
the following conjecture 
conjecture for any majority technology any n γ 
and c there exists l ≤ l ≤ n such that the first 
transition is from to l agents and then all the remaining 
n − l transitions exist 
 
 
 
 
 
 
 
 
 
 
 
gamma 
 
 
 
 
v 
 
 
figure simulations results showing the number of 
agents in the optimal contract of the majority 
technology with players as a function of γ and v as γ 
decreases the first transition is at a lower value and to 
a higher number of agents for any sufficiently small γ 
the first transition is to agents and for any 
sufficiently large γ the first transition is to agents for 
any γ the first transition is never to more than agents 
and after the first transition we see all following possible 
transitions 
moreover for any fixed c n l when γ is close enough 
to 
 
 l is a non-decreasing function of γ with image 
 n and l n when γ is close enough to 
 non-anonymous technologies 
in non-anonymous technologies even with identical costs 
we need to talk about the contracted set of agents and not 
only about the number of contracted agents in this section 
we identify the sets of agents that can be obtained as the 
optimal contract for some v these sets construct the orbit 
of a technology 
definition for a technology t a set of agents s is in 
the orbit of t if for some value v the optimal contract is 
exactly with the set s of agents where ties between different 
s s are broken according to a lexicographic order 
 the 
korbit of t is the collection of sets of size exactly k in the 
orbit 
observe that in the non-strategic case the k-orbit of any 
technology with identical cost c is of size at most as all sets 
of size k has the same cost only the one with the maximal 
probability can be on the orbit thus the orbit of any such 
technology in the non-strategic case is of size at most n 
we show that the picture in the agency case is very different 
a basic observation is that the orbit of a technology is 
actually an ordered list of sets of agents where the order is 
determined by the following lemma 
lemma monotonicity lemma for any technology 
 t c in both the agency and the non-strategic cases the 
 
this implies that there are no two sets with the same 
success probability in the orbit 
expected utility of the principal at the optimal contracts the 
success probability of the optimal contracts and the expected 
payment of the optimal contract are all monotonically 
nondecreasing with the value 
proof suppose the sets of agents s and s are 
optimal in v and v v respectively let q s denote the 
expected total payment to all agents in s in the case that 
the principal contracts with the set s and the project 
succeeds for the agency case q s t s · 
p 
i∈s 
ci 
t s −t s\i 
 
while for the non-strategic case q s 
p 
i∈s ci the 
principal s utility is a linear function of the value u s v 
t s ·v−q s as s is optimal at v u s v ≥ u s v 
and as t s ≥ and v v u s v ≥ u s v we 
conclude that u s v ≥ u s v thus the utility is 
monotonic non-decreasing in the value 
next we show that the success probability is monotonic 
non-decreasing in the value s is optimal at v thus 
t s · v − q s ≥ t s · v − q s 
s is optimal at v thus 
t s · v − q s ≥ t s · v − q s 
summing these two equations we get that t s − t s · 
 v − v ≥ which implies that if v v than t s ≥ 
t s 
finally we show that the expected payment is monotonic 
non-decreasing in the value as s is optimal at v and 
t s ≥ t s we observe that 
t s · v − q s ≥ t s · v − q s ≥ t s · v − q s 
or equivalently q s ≤ q s which is what we wanted 
to show 
 aoo and ooa technologies 
we begin our discussion of non-anonymous technologies 
with two examples the and-of-ors aoo and or-of-ands 
 ooa technologies 
the aoo technology see figure is composed of 
multiple or-components that are anded together 
theorem let h be an anonymous or technology and 
let f 
vnc 
j h be the aoo technology that is obtained by 
a conjunction of nc of these or-components on disjoint 
inputs then for any value v an optimal contract contracts 
with the same number of agents in each or-component 
thus the orbit of f is of size at most nl where nl is the 
number of agents in h 
part of the proof of the theorem for the complete proof 
see is based on such aoo technology being a special 
case of a more general family of technologies in which 
disjoint anonymous technologies are and-ed together as 
explained in the next section we conjecture that a similar 
result holds for the ooa technology 
conjecture in an ooa technology which is a 
disjunction of the same anonymous paths with the same 
number of agents γ and c but over disjoint inputs for any 
value v the optimal contract is constructed from some 
number of fully-contracted paths moreover there exist v 
 vnl such that for any v vi ≤ v ≤ vi exactly i paths 
are contracted 
we are unable to prove it in general but can prove it for 
the case of an ooa technology with two paths of length two 
 see 
 
 orbit characterization 
the aoo is an example of a technology whose orbit size 
is linear in its number of agents if conjecture is true 
the same holds for the ooa technology what can be said 
about the orbit size of a general non-anonymous technology 
in case of identical costs it is impossible for all subsets of 
agents to be on the orbit this holds by the observation 
that the -orbit a single agent that exerts effort is of size 
at most only the agent that gives the highest success 
probability when only he exerts effort can be on the orbit 
 as he also needs to be paid the least nevertheless we 
next show that the orbit can have exponential size 
a collection of sets of k elements out of n is 
admissible if every two sets in the collection differ by at least 
elements e g for k and can not be together in 
the collection but and can be 
theorem every admissible collection can be obtained 
as the k − orbit of some t 
proof sketch the proof is constructive let s be some 
admissible collection of k-size sets for each set s ∈ s in the 
collection we pick s such that for any two admissible sets 
si sj si sj we then define the technology function 
t as follows for any s ∈ s t s − s and ∀i ∈ s 
t s \ i − s thus the marginal contribution of 
every i ∈ s is s note that since s is admissible t is well 
defined as for any two sets s s ∈ s and any two agents 
i j s \ i s \ j for any other set z we define t z in 
a way that ensures that the marginal contribution of each 
agent in z is a very small the technical details appear in 
the full version this completes the definition of t 
we show that each admissible set s ∈ s is optimal at the 
value vs ck 
 
s 
 we first show that it is better than any 
other s ∈ s at the value vs ck 
 
s 
 the set s that 
corresponds to s maximizes the utility of the principal this 
result is obtained by taking the derivative of u s v 
therefore s yields a higher utility than any other s ∈ s we also 
pick the range of s to ensure that at vs s is better than 
any other set s \ i s t s ∈ s now we are left to show 
that at vs the set s yields a higher utility than any other 
set z ∈ s the construction of t z ensures this since the 
marginal contribution of each agent in z is such a small 
that the payment is too high for the set to be optimal 
in we present the full proof of the theorem as well as 
the full proofs of all other claims presented in this section 
without such a proof we next show that there exist very 
large admissible collections 
lemma for any n ≥ k there exists an admissible 
collection of k-size sets of size ω 
n 
· 
`n 
k 
´ 
 
proof sketch the proof is based on an error correcting 
code that corrects one bit such a code has a distance ≥ 
 thus admissible it is known that there are such codes 
with ω n 
 n code words to ensure that an appropriate 
fraction of these code words have weight k we construct a 
new code by xor-ing each code word with a random word 
r the properties of xor ensure that the new code remains 
admissible each code word is now uniformly mapped to 
the whole cube and thus its probability of having weight 
k is 
`n 
k 
´ 
 n 
 thus the expected number of weight k words 
is ω 
`n 
k 
´ 
 n and for some r this expectation is achieved or 
exceeded 
for k n we can construct an exponential size 
admissible collection which by theorem can be used to build a 
technology with exponential size orbit 
corollary there exists a technology t c with orbit 
of size ω n 
n 
√ 
n 
 
thus we are able to construct a technology with 
exponential orbit but this technology is not a network technology 
or a structured technology 
open question is there a read once network with 
exponential orbit is there a structured technology with 
exponential orbit 
nevertheless so far we have not seen examples of 
seriesparallel networks whose orbit size is larger than n 
open question how big can the orbit size of a 
seriesparallel network be 
we make the first step towards a solution of this question 
by showing that the size of the orbit of a conjunction of two 
disjoint networks taking the two in a serial is at most the 
sum of the two networks orbit sizes 
let g and h be two boolean functions on disjoint inputs 
and let f g 
v 
h i e take their networks in series the 
optimal contract for f for some v denoted by s is composed 
of some agents from the h-part and some from the g-part 
call them t and r respectively 
lemma let s be an optimal contract for f g 
v 
h on 
v then t is an optimal contract for h on v · tg r and r 
is an optimal contract for g on v · th t 
proof sketch we exress the pricipal s utility u s v from 
contracting with the set s when his value is v we abuse 
notation and use the function to denote the technology as 
well let δf 
i s \ i denote the marginal contribution of 
agent i ∈ s then for any i ∈ t δf 
i s \ i g r · 
δh 
i t \ i and for any i ∈ r δf 
i s \ i h t · δg 
i r \ i 
by substituting these expressions and f s h t · g r 
we derive that u s v h t 
 
g r · v − 
p 
i∈t 
ci 
δh 
i t \i 
 
 
g r · 
p 
i∈r 
ci 
δ 
g 
i 
 r\i 
 the first term is maximized at a set t 
that is optimal for h on the value g r · v while the second 
term is independent of t and h thus s is optimal for f on 
v if and only if t is an optimal contract for h on v · tg r 
similarly we show that r is an optimal contract for g on 
v · th t 
lemma the real function v → th t where t is the 
h − part of an optimal contract for f on v is monotone 
non-decreasing and similarly for the function v → tg r 
proof let s t ∪ r be the optimal contract for f 
on v and let s t ∪r be the optimal contract for f on 
v v by lemma f s ≥ f s and since f g · h 
f s h t · g r ≥ h t · g r f s assume in 
contradiction that h t h t then since h t ·g r ≥ 
h t ·g r this implies that g r g r by lemma 
t is optimal for h on v · g r and t is optimal for h on 
v ·g r as v v and g r g r t is optimal for h 
on a larger value than t thus by lemma h t ≥ h t 
a contradiction 
 
based on lemma and lemma we obtain the following 
lemma for the full proof see 
lemma let g and h be two boolean functions on 
disjoint inputs and let f g 
v 
h i e take their networks in 
series suppose x and y are the respective orbit sizes of g 
and h then the orbit size of f is less or equal to x y − 
by induction we get the following corollary 
corollary assume that gj cj m 
j is a set of 
anonymous technologies on disjoint inputs each with identical agent 
cost all agents of technology gj has the same cost cj then 
the orbit of f 
vm 
j gj is of size at most 
pm 
j nj − 
where nj is the number of agents in technology gj the orbit 
is linear in the number of agents 
in particular this holds for aoo technology where each 
or-component is anonymous 
it would also be interesting to consider a disjunction of 
two boolean functions 
open question does lemma hold also for the boolean 
function f g 
w 
h i e when the networks g h are taken 
in parallel 
we conjecture that this is indeed the case and that the 
corresponding lemmas and exist for the or case as well 
if this is true this will show that series-parallel networks 
have polynomial size orbit 
 algorithmic aspects 
our analysis throughout the paper sheds some light on 
the algorithmic aspects of computing the best contract in 
this section we state these implications for the proofs see 
 we first consider the general model where the 
technology function is given by an arbitrary monotone function 
t with rational values and we then consider the case of 
structured technologies given by a network representation 
of the underlying boolean function 
 binary-outcome binary-action 
technologies 
here we assume that we are given a technology and value 
v as the input and our output should be the optimal 
contract i e the set s 
of agents to be contracted and the 
contract pi for each i ∈ s 
 in the general case the success 
function t is of size exponential in n the number of agents 
and we will need to deal with that in the special case of 
anonymous technologies the description of t is only the n 
numbers t tn and in this case our analysis in section 
completely suffices for computing the optimal contract 
proposition given as input the full description of a 
technology the values t tn and the identical cost c for 
an anonymous technology or the value t s for all the n 
possible subsets s ⊆ n of the players and a vector of costs 
c for non-anonymous technologies the following can all be 
computed in polynomial time 
 the orbit of the technology in both the agency and the 
non-strategic cases 
 an optimal contract for any given value v for both the 
agency and the non-strategic cases 
 the price of unaccountability pou t c 
proof we prove the claims for the non-anonymous case 
the proof for the anonymous case is similar 
we first show how to construct the orbit of the technology 
 the same procedure apply in both cases to construct the 
orbit we find all transition points and the sets that are in 
the orbit the empty contract is always optimal for v 
assume that we have calculated the optimal contracts and 
the transition points up to some transition point v for which 
s is an optimal contract with the highest success probability 
we show how to calculate the next transition point and the 
next optimal contract 
by lemma the next contract on the orbit for higher 
values has a higher success probability there are no two sets 
with the same success probability on the orbit we 
calculate the next optimal contract by the following procedure 
we go over all sets t such that t t t s and 
calculate the value for which the principal is indifferent between 
contracting with t and contracting with s the minimal 
indifference value is the next transition point and the contract 
that has the minimal indifference value is the next optimal 
contract linearity of the utility in the value and 
monotonicity of the success probability of the optimal contracts 
ensure that the above works clearly the above calculation 
is polynomial in the input size 
once we have the orbit it is clear that an optimal contract 
for any given value v can be calculated we find the largest 
transition point that is not larger than the value v and 
the optimal contract at v is the set with the higher success 
probability at this transition point 
finally as we can calculate the orbit of the technology in 
both the agency and the non-strategic cases in polynomial 
time we can find the price of unaccountability in polynomial 
time by lemma the price of unaccountability pou t 
is obtained at some transition point so we only need to go 
over all transition points and find the one with the maximal 
social welfare ratio 
a more interesting question is whether if given the 
function t as a black box we can compute the optimal contract 
in time that is polynomial in n we can show that in general 
this is not the case 
theorem given as input a black box for a success 
function t when the costs are identical and a value v the 
number of queries that is needed in the worst case to find 
the optimal contract is exponential in n 
proof consider the following family of technologies for 
some small and k n we define the success 
probability for a given set t as follows if t k then 
t t t · if t k then t t − n − t · for 
each set of agents ˆt of size k the technology t ˆt is defined 
by t ˆt − n − ˆt · and t t t · for any t ˆt 
of size k 
for the value v c· k the optimal contract for t ˆt 
is ˆt for the contract ˆt the utility of the principal is about 
v −c·k ·c while for any other contract the utility 
is negative 
if the algorithm queries about at most 
` n 
n 
´ 
− sets 
of size k then it cannot always determine the optimal 
contract as any of the sets that it has not queried about might 
be the optimal one we conclude that 
` n 
n 
´ 
− queries 
are needed to determine the optimal contract and this is 
exponential in n 
 
 structured technologies 
in this section we will consider the natural representation 
of read-once networks for the underlying boolean function 
thus the problem we address will be 
the optimal contract problem for read once 
networks 
input a read-once network g v e with two specific 
vertices s t rational values γe δe for each player e ∈ e and 
ce and a rational value v 
output a set s of agents who should be contracted in an 
optimal contract 
let t e denote the probability of success when each edge 
succeeds with probability δe we first notice that even 
computing the value t e is a hard problem it is called the 
network reliability problem and is known to be p − hard 
 just a little effort will reveal that our problem is not 
easier 
theorem the optimal contract problem for read once 
networks is p-hard under turing reductions 
proof we will show that an algorithm for this problem 
can be used to solve the network reliability problem given 
an instance of a network reliability problem g ζe e∈e 
 where ζe denotes e s probability of success we define an 
instance of the optimal contract problem as follows first 
define a new graph g which is obtained by anding g with 
a new player x with γx very close to 
 
and δx − γx 
for the other edges we let δe ζe and γe ζe by 
choosing γx close enough to 
 
 we can make sure that player 
x will enter the optimal contract only for very large values 
of v after all other agents are contracted if we can find the 
optimal contract for any value it is easy to find a value for 
which in the original network the optimal contract is e by 
keep doubling the value and asking for the optimal contract 
once we find such a value we choose γx s t c 
 − γx 
is larger 
than that value let us denote βx − γx 
the critical value of v where player x enters the optimal 
contract of g can be found using binary search over the 
algorithm that supposedly finds the optimal contract for any 
network and any value note that at this critical value v 
the principal is indifferent between the set e and e ∪ x 
now when we write the expression for this indifference in 
terms of t e and δt 
i e we observe the following 
t e · γx · v − 
x 
i∈e 
c 
γx · δt 
i e \ i 
 
 
t e − γx v − 
x 
i∈e 
c 
 − γx · δt 
i e \ i 
− 
c 
t e · βx 
 
if and only if 
t e 
 − γx · c 
 βx · v 
thus if we can always find the optimal contract we are 
also able to compute the value of t e 
in conclusion computing the optimal contract in general 
is hard these results suggest two natural research 
directions the first avenue is to study families of technologies 
whose optimal contracts can be computed in polynomial 
time the second avenue is to explore approximation 
algorithms for the optimal contract problem 
a possible candidate for the first direction is the family 
of series-parallel networks for which the network reliability 
problem computing the value of t is polynomial 
open question can the optimal contract problem for 
read once series-parallel networks be solved in polynomial 
time 
we can only handle the non-trivial level of aoo networks 
lemma given a read once and-of-or network such 
that each or-component is an anonymous technology the 
optimal contract problem can be solved in polynomial time 
acknowledgments this work is supported by the 
israel science foundation the usa-israel binational science 
foundation the lady davis fellowship trust and by a 
national science foundation grant number ani- 
 references 
 m babaioff m feldman and n nisan the price of 
purity and free-labor in combinatorial agency in 
working paper 
 m babaioff m feldman and n nisan 
combinatorial agency 
www sims berkeley edu ˜moshe comb-agency pdf 
 m feldman j chuang i stoica and s shenker 
hidden-action in multi-hop routing in ec pages 
 - 
 b holmstrom moral hazard in teams bell journal 
of economics - 
 a mass-colell m whinston and j green 
microeconomic theory oxford university press 
 n nisan and a ronen algorithmic mechanism 
design games and economic behaviour - 
 a preliminary version appeared in stoc 
 c papadimitriou algorithms games and the 
internet in proceedings of rd stoc pages - 
 
 j s provan and m o ball the complexity of 
counting cuts and of computing the probability that a 
graph is connected siam j comput - 
 
 a ronen and l wahrmann prediction games 
wine pages - 
 r smorodinsky and m tennenholtz sequential 
information elicitation in multi-agent systems th 
conference on uncertainty in ai 
 r smorodinsky and m tennenholtz overcoming 
free-riding in multi-party computations - the 
anonymous case forthcoming geb 
 e winter incentives and discrimination american 
economic review - 
 
